<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>è¿‘ãã®å ´æ‰€ã‚’æ¤œç´¢</title>
  <script src="https://maps.googleapis.com/maps/api/js?key=YOUR_API_KEY&libraries=places"></script>
</head>
<body>
  <h2>ğŸª è¿‘ãã®ãƒ›ãƒ¼ãƒ ã‚»ãƒ³ã‚¿ãƒ¼ã‚’æ¤œç´¢</h2>
  <input type="text" id="location" placeholder="ä¾‹: 35.6812,139.7671ï¼ˆç·¯åº¦,çµŒåº¦ï¼‰">
  <button id="search">æ¤œç´¢</button>

  <div id="results"></div>

  <script>
    document.getElementById('search').addEventListener('click', function() {
      const input = document.getElementById('location').value.trim();
      const [lat, lng] = input.split(',').map(Number);

      if (isNaN(lat) || isNaN(lng)) {
        document.getElementById('results').innerHTML = "<p style='color:red;'>âš  ç·¯åº¦ã¨çµŒåº¦ã‚’æ­£ã—ãå…¥åŠ›ã—ã¦ãã ã•ã„ã€‚</p>";
        return;
      }

      const location = new google.maps.LatLng(lat, lng);
      const service = new google.maps.places.PlacesService(document.createElement('div'));
      const request = {
        location,
        radius: 1500,
        type: ['home_goods_store']
      };

      service.nearbySearch(request, function(results, status) {
        const output = document.getElementById('results');
        output.innerHTML = '';
        if (status === google.maps.places.PlacesServiceStatus.OK) {
          results.forEach(place => {
            output.innerHTML += `<p>ğŸ  ${place.name} (${place.vicinity})</p>`;
          });
        } else {
          output.innerHTML = `<p>çµæœãŒè¦‹ã¤ã‹ã‚Šã¾ã›ã‚“ã§ã—ãŸã€‚</p>`;
        }
      });
    });
  </script>
</body>
</html>
